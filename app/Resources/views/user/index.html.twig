{% extends 'base_new.html.twig' %}

{% set tableData = [
  'id',
  'username',
  'Password',
  'email',
  'activo',
  'acciones'
] %}

{% block body %}
  <h1>
    Listado de Usuarios
  </h1>

  <div class="table-responsive borderRad">
    <table class="table bg-light table-sm table-striped table-bordered table-hover text-center text-dark">
      <thead class="tableHead-bg">
        <tr>
          {% for colHead in tableData %}
            <th>
              {{ colHead }}
            </th>
          {% endfor %}
        </tr>
      </thead>
      <tbody class="font-weight-normal text-lowercase">
        {% for user in users %}
          <tr>
            <td>
              <a href="{{
                path(
                  'user_show',
                  {
                    id: user.id
                  }
                )
                }}">
                {{ user.id }}
              </a>
            </td>
            <td>
              {{ user.username }}
            </td>
            <td>
              ... {{ user.password|slice(- 15) }}
            </td>
            <td>
              {{ user.email }}
            </td>
            <td>
              {% if user.isActive %}
                Yes
              {% else %}
                No
              {% endif %}
            </td>
            <td>
              <a class="btn btn-sm btn-info"
                href="{{
                path(
                  'user_show',
                  {
                    id: user.id
                  }
                )
                }}">
                Ver
              </a>
              <a class="btn btn-sm btn-primary"
                href="{{
                path(
                  'user_edit',
                  {
                    id: user.id
                  }
                )
                }}">
                Modificar
              </a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <a class="btn btn-sm btn-primary btn-margin" href="{{ path('user_new') }}">
    Crear Nuevo Usuario
  </a>
{% endblock %}
